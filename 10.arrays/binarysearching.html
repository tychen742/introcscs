<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>10.5. Binary Searching &mdash; Introduction to Computer Science in C# 20 Jul 2024 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="10.6. Lab: Arrays" href="lab-array1d.html" />
    <link rel="prev" title="10.4. Sorting Algorithms" href="sorting.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Introduction to Computer Science in C#
          </a>
              <div class="version">
                20 Jul 2024
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../01.context/context.html">1. Context</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02.data/data.html">2. Data and Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3.functions/functions.html">3. Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../4.basicstringops/basicstringops.html">4. Strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../5.decisions/decisions.html">5. Decisions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../6.while/while.html">6. While Loops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../7.foreach/foreach.html">7. foreach Loops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../8.for/for.html">8. for Loops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../9.files/files.html">9. Files, Paths, and Directories</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="arrays.html">10. Arrays</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="onedim.html">10.1. One Dimensional Arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="music.html">10.2. Musical Scales and Arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="searching.html">10.3. Linear Searching</a></li>
<li class="toctree-l2"><a class="reference internal" href="sorting.html">10.4. Sorting Algorithms</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">10.5. Binary Searching</a></li>
<li class="toctree-l2"><a class="reference internal" href="lab-array1d.html">10.6. Lab: Arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="lab-searching-arrays-lists-maps.html">10.7. Lab: Performance</a></li>
<li class="toctree-l2"><a class="reference internal" href="twodim.html">10.8. Multi-dimensional Arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="reviewarrays.html">10.9. Chapter Review Questions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../11.lists/lists.html">11. Lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="../12.dictionaries/dictionaries.html">12. Dictionaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../13.classes/classes.html">13. Object-Oriented Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../14.testing/testing.html">14. Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../15.interfaces/interfaces.html">15. Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../16.recursion/recursion.html">16. Recursion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../17.datastructures/datastructures.html">17. Data Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../18.appendix/appendix.html">18. Appendix</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Introduction to Computer Science in C#</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="arrays.html"><span class="section-number">10. </span>Arrays</a></li>
      <li class="breadcrumb-item active"><span class="section-number">10.5. </span>Binary Searching</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/10.arrays/binarysearching.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="binary-searching">
<span id="binarysearching"></span><span id="index-0"></span><h1><span class="section-number">10.5. </span>Binary Searching<a class="headerlink" href="#binary-searching" title="Permalink to this heading"></a></h1>
<p>Binary search is an improvement over linear searching that works only
if the data in the array are sorted beforehand.</p>
<p>Suppose we have the following array data shown under the array indices:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>10  20  30  40  50  60  70  80  90  100 115 125 135 145 155 178 198
</pre></div>
</div>
<p>Binary search works by keeping track of the midpoint (mid) and the minimum (min) and
maximum (max) index positions where the item <em>might be</em>.</p>
<p>If we are looking for a number, say, 115, here is a visual on how we might go about it.
We display the indices over the data being considered.
Here min and max are the smallest and largest index to still consider.
A textual explanation follows the visual:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>   0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16
  10  20  30  40  50  60  70  80  90 100 115 125 135 145 155 178 198
min=0 max=16 mid=8
                                     100 115 125 135 145 155 178 198
min=9 max=16 mid=12
                                     100 115 125
min=9 max=11 mid=10
Item 115 found at position 10
</pre></div>
</div>
<ul class="simple">
<li><p>We start by testing the data at position 8. 115 is greater than the value at position
8 (100), so we assume that the value must be somewhere between positions 9 and 16.</p></li>
<li><p>In the second pass, we test the data at position 12 (the midpoint between 9 and 16).
115 is less than the value at position 12, so we assume that the value must be somewhere
between positions 9 and 11.</p></li>
<li><p>In the last pass, we test the value at position 10. The value 115 is at this position,
so we’re done.</p></li>
</ul>
<p>So binary search (as its name might suggest) works by dividing the interval to be searched
during each pass in half. If you think about how it’s working here with 17 items. Because
there is integer division here, the interval will not always be precisely half. it is the
floor of dividing by 2 (integer division, that is).</p>
<p>With the data above, you see that the algorithm determined the item within 3 steps.
To reduce to one element
to consider, it could be 4 or 5 steps.  Note that <span class="math notranslate nohighlight">\(4 &lt; log_2 17 &lt; 5\)</span>.</p>
<p>Now that we’ve seen how the method works, here is the code
in <a class="reference external" href="https://github.com/tychen742/introcs-csharp-examples/blob/master/binary_searching/binary_searching.cs">binary_searching/binary_searching.cs</a> that does the work:</p>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">/// Return the index of item in a non-empty sorted array data,</span>
<span class="linenos"> 2</span><span class="c1">/// or return -1 if item is not in the array.</span>
<span class="linenos"> 3</span><span class="k">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">IntArrayBinarySearch</span><span class="p">(</span><span class="kt">int</span><span class="p">[]</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">item</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="p">{</span>
<span class="linenos"> 5</span><span class="w">   </span><span class="kt">int</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="n">Length</span><span class="o">-</span><span class="m">1</span><span class="p">;</span>
<span class="linenos"> 6</span><span class="w">   </span><span class="k">while</span><span class="p">(</span><span class="n">min</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">max</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7</span><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">mid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">min</span><span class="o">+</span><span class="n">max</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">2</span><span class="p">;</span>
<span class="linenos"> 8</span><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">item</span><span class="p">)</span>
<span class="linenos"> 9</span><span class="w">         </span><span class="k">return</span><span class="w"> </span><span class="n">mid</span><span class="p">;</span>
<span class="linenos">10</span><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">item</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">mid</span><span class="p">])</span>
<span class="linenos">11</span><span class="w">         </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mid</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="p">;</span>
<span class="linenos">12</span><span class="w">      </span><span class="k">else</span>
<span class="linenos">13</span><span class="w">         </span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mid</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">1</span><span class="p">;</span>
<span class="linenos">14</span><span class="w">   </span><span class="p">}</span>
<span class="linenos">15</span><span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="o">-</span><span class="m">1</span><span class="p">;</span>
<span class="linenos">16</span><span class="p">}</span>
</pre></div>
</div>
<p>Here’s a quick explanation, because it largely follows from the above explanation.</p>
<ul class="simple">
<li><p>Line 5: Initially item could be anywhere in the array,
so minimum is at position 0 and maximum is at position
N-1 (data.Length - 1).</p></li>
<li><p>The loop to make repeated passes over the array begins on line 6.
We can only continue searching if there is some data left to consider
(<code class="docutils literal notranslate"><span class="pre">min</span> <span class="pre">&lt;=</span> <span class="pre">max</span></code>).</p></li>
<li><p>Line 7 does just what we expect:
It calculates the median position (mid).</p></li>
<li><p>It is always possible that we’ve found the item, which is what we test on line 8,
and return with our answer if we found it.</p></li>
<li><p>Lines 10-13: If not, we continue.  If the item is greater than the value
at this mid position, we know it is in the “upper half”.
Otherwise, it’s in the “lower half”.</p></li>
<li><p>Line 15: Otherwise the binary search loop terminates, and we
return -1 (to indicate not found).
The -1 value is a commonly-returned indicator of failure in search operations
(especially on arrays, lists, and strings),
so we use this mostly out of respect for tradition.
It makes particular sense,
because -1 is not within the <em>index set</em> of the array (which starts
at 0 in C# and ends at <code class="docutils literal notranslate"><span class="pre">data.Length</span> <span class="pre">-</span> <span class="pre">1</span></code>.</p></li>
</ul>
<p>Of course we generally would be searching in an array with multiple elements.
It is still important to check <em>edge cases</em>:  Check that the code correctly
returns -1 if the array has length 0 (a legal length).</p>
<p>Similar to linear searching, we provide a main program that tests it out.
in <a class="reference external" href="https://github.com/tychen742/introcs-csharp-examples/blob/master/binary_searching/binary_searching_demo.cs">binary_searching/binary_searching_demo.cs</a>.  It uses
an elaboration of binary search that prints
out the steps visually, as in the introduction to this section.
It also references previous example projects: functions from files
<a class="reference external" href="https://github.com/tychen742/introcs-csharp-examples/blob/master/searching/extract_from_string.cs">searching/extract_from_string.cs</a> and <a class="reference external" href="https://github.com/tychen742/introcs-csharp-examples/blob/master/sorting/sorting.cs">sorting/sorting.cs</a>.</p>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="w">   </span><span class="kt">string</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UI</span><span class="p">.</span><span class="n">PromptLine</span><span class="p">(</span>
<span class="linenos"> 2</span><span class="w">      </span><span class="s">&quot;Please enter some comma/space separated integers: &quot;</span><span class="p">);</span>
<span class="linenos"> 3</span><span class="w">   </span><span class="kt">int</span><span class="p">[]</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ExtractFromString</span><span class="p">.</span><span class="n">IntsFromString</span><span class="p">(</span><span class="n">input</span><span class="p">);</span>
<span class="linenos"> 4</span><span class="w">   </span><span class="n">Sorting</span><span class="p">.</span><span class="n">IntArrayShellSortBetter</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
<span class="linenos"> 5</span><span class="w">   </span><span class="kt">string</span><span class="w"> </span><span class="n">prompt</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 6</span><span class="w">      </span><span class="s">&quot;Please enter a number to find (empty line to end): &quot;</span><span class="p">;</span>
<span class="linenos"> 7</span><span class="w">   </span><span class="n">input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UI</span><span class="p">.</span><span class="n">PromptLine</span><span class="p">(</span><span class="n">prompt</span><span class="p">);</span>
<span class="linenos"> 8</span><span class="w">   </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="n">Length</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9</span><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">searchItem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">int</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">input</span><span class="p">);</span>
<span class="linenos">10</span><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">foundPos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BinarySearching</span><span class="p">.</span><span class="n">IntArrayBinarySearchPrinted</span><span class="p">(</span>
<span class="linenos">11</span><span class="w">                        </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">searchItem</span><span class="p">);</span>
<span class="linenos">12</span><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">foundPos</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">0</span><span class="p">)</span>
<span class="linenos">13</span><span class="w">         </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Item {0} not found&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">searchItem</span><span class="p">);</span>
<span class="linenos">14</span><span class="w">      </span><span class="k">else</span>
<span class="linenos">15</span><span class="w">         </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Item {0} found at position {1}&quot;</span><span class="p">,</span>
<span class="linenos">16</span><span class="w">                           </span><span class="n">searchItem</span><span class="p">,</span><span class="w"> </span><span class="n">foundPos</span><span class="p">);</span>
<span class="linenos">17</span><span class="w">      </span><span class="n">input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UI</span><span class="p">.</span><span class="n">PromptLine</span><span class="p">(</span><span class="n">prompt</span><span class="p">);</span>
<span class="linenos">18</span><span class="w">   </span><span class="p">}</span>
</pre></div>
</div>
<section id="elaborated-binary-search-exercise">
<h2><span class="section-number">10.5.1. </span>Elaborated Binary Search Exercise<a class="headerlink" href="#elaborated-binary-search-exercise" title="Permalink to this heading"></a></h2>
<p>Even if you do not find <code class="docutils literal notranslate"><span class="pre">item</span></code> in a binary search, it is sometimes useful to know
where <code class="docutils literal notranslate"><span class="pre">item</span></code> lies in relation to the array elements.  It could be
before the first element, in between two elements, or after the last element.
Suppose <code class="docutils literal notranslate"><span class="pre">N</span></code> is the (positive) array length.
Instead of just returning -1 if <code class="docutils literal notranslate"><span class="pre">item</span></code> is not in the array, return</p>
<ul class="simple">
<li><p>-1 if <code class="docutils literal notranslate"><span class="pre">item</span> <span class="pre">&lt;</span> <span class="pre">data[0]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-(k+1)</span></code> if <code class="docutils literal notranslate"><span class="pre">data[k-1]</span> <span class="pre">&lt;</span> <span class="pre">item</span> <span class="pre">&lt;</span> <span class="pre">data[k]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-(N+1)</span></code> if <code class="docutils literal notranslate"><span class="pre">data[N-1]</span> <span class="pre">&lt;</span> <span class="pre">item</span></code></p></li>
</ul>
<p>Modify <a class="reference external" href="https://github.com/tychen742/introcs-csharp-examples/blob/master/binary_searching/binary_searching.cs">binary_searching/binary_searching.cs</a> into
<code class="file docutils literal notranslate"><span class="pre">binary_searching2.cs</span></code> so this extra information is returned
(and indicated clearly in a main testing program derived from
<a class="reference external" href="https://github.com/tychen742/introcs-csharp-examples/blob/master/binary_searching/binary_searching_demo.cs">binary_searching/binary_searching_demo.cs</a>).
This should <em>not</em> require a change to the <code class="docutils literal notranslate"><span class="pre">while</span></code> loop, <em>nor</em>
require any added loop.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="sorting.html" class="btn btn-neutral float-left" title="10.4. Sorting Algorithms" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="lab-array1d.html" class="btn btn-neutral float-right" title="10.6. Lab: Arrays" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .
      <span class="lastupdated">Last updated on 20-July-2024 22:05:05.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>